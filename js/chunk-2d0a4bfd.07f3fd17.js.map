{"version":3,"sources":["webpack:///./src/views/Health.vue?c50f","webpack:///src/views/Health.vue","webpack:///./src/views/Health.vue?033f","webpack:///./src/views/Health.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","items","fields","scopedSlots","_u","key","fn","row","on","$event","myconfirm","item","onSubmit","onReset","vaccines","model","value","addVaccineForm","callback","$$v","$set","expression","_e","staticRenderFns","component"],"mappings":"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","file":"js/chunk-2d0a4bfd.07f3fd17.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"header pb-2 pt-5 pt-lg-6 d-flex align-items-center\"},[_c('b-container',{attrs:{\"fluid\":\"\"}},[_c('span',{staticClass:\"mask bg-gradient-success opacity-8\"}),_c('b-container',{staticClass:\"d-flex align-items-center\",attrs:{\"fluid\":\"\"}},[_c('b-row',[_c('b-col',{attrs:{\"lg\":\"12\",\"md\":\"8\"}},[_c('h1',{staticClass:\"display-3 text-white\"},[_vm._v(\"Health Center Page\")]),_c('p',{staticClass:\"text-white mt-0 mb-2\"},[_vm._v(\"This is for Health Center's staff ONLY\")])])],1)],1)],1)],1),_c('b-card',{staticClass:\"mt-3\",attrs:{\"header\":\"今日預約施打疫苗名單\",\"header-bg-variant\":\"info\",\"header-text-variant\":\"white\"}},[_c('b-card-text',[_vm._v(\"\\n            每天於疫苗施打完畢後 (17:00)，更新已施打疫苗的員工資料。\\n            \")]),_c('b-card-text',[_vm._v(\"請勾選施打狀態。\")]),_c('b-table',{attrs:{\"striped\":\"\",\"hover\":\"\",\"items\":_vm.items,\"fields\":_vm.fields},scopedSlots:_vm._u([{key:\"cell(status)\",fn:function(row){return [_c('base-button',{staticClass:\"mr-1\",attrs:{\"size\":\"sm\"},on:{\"click\":function($event){return _vm.myconfirm(row.item)}}},[_vm._v(\"\\n                        已施打\\n                    \")])]}}])})],1),_c('b-card',{staticClass:\"mt-3\",attrs:{\"header\":\"新增疫苗資訊\",\"header-bg-variant\":\"default\",\"header-text-variant\":\"white\"}},[(_vm.show)?_c('b-form',{on:{\"submit\":_vm.onSubmit,\"reset\":_vm.onReset}},[_c('b-form-group',{attrs:{\"id\":\"input-group-1\",\"label\":\"Vaccine Type:\",\"label-for\":\"input-1\"}},[_c('b-form-select',{attrs:{\"id\":\"input-1\",\"options\":_vm.vaccines,\"required\":\"\"},model:{value:(_vm.addVaccineForm.vaccine_type),callback:function ($$v) {_vm.$set(_vm.addVaccineForm, \"vaccine_type\", $$v)},expression:\"addVaccineForm.vaccine_type\"}})],1),_c('b-form-group',{attrs:{\"id\":\"input-group-2\",\"label\":\"Date:\",\"label-for\":\"input-2\",\"description\":\"YYYY-MM-DD\"}},[_c('b-form-input',{attrs:{\"id\":\"input-2\",\"type\":\"date\",\"placeholder\":\"Enter availible vaccination date\",\"required\":\"\"},model:{value:(_vm.addVaccineForm.date),callback:function ($$v) {_vm.$set(_vm.addVaccineForm, \"date\", $$v)},expression:\"addVaccineForm.date\"}})],1),_c('b-form-group',{attrs:{\"id\":\"input-group-3\",\"label\":\"Amount:\",\"label-for\":\"input-3\"}},[_c('b-form-input',{attrs:{\"id\":\"input-3\",\"type\":\"number\",\"placeholder\":\"Enter availible doses of vaccine\",\"min\":\"1\",\"max\":\"999\",\"required\":\"\"},model:{value:(_vm.addVaccineForm.vaccine_amount),callback:function ($$v) {_vm.$set(_vm.addVaccineForm, \"vaccine_amount\", $$v)},expression:\"addVaccineForm.vaccine_amount\"}})],1),_c('b-button',{attrs:{\"type\":\"submit\",\"variant\":\"primary\"}},[_vm._v(\"Submit\")]),_c('b-button',{attrs:{\"type\":\"reset\",\"variant\":\"danger\"}},[_vm._v(\"Reset\")])],1):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <div class=\"header pb-2 pt-5 pt-lg-6 d-flex align-items-center\">\r\n        <b-container fluid>\r\n            <!-- Mask -->\r\n            <span class=\"mask bg-gradient-success opacity-8\"></span>\r\n            <!-- Header container -->\r\n            <b-container fluid class=\"d-flex align-items-center\">\r\n            <b-row >\r\n                <b-col lg=\"12\" md=\"8\">\r\n                <h1 class=\"display-3 text-white\">Health Center Page</h1>\r\n                <p class=\"text-white mt-0 mb-2\">This is for Health Center's staff ONLY</p>\r\n                \r\n                </b-col>\r\n            </b-row>\r\n            </b-container>\r\n        </b-container>\r\n        </div>\r\n            <b-card class=\"mt-3\" header=\"今日預約施打疫苗名單\" header-bg-variant=\"info\" header-text-variant=\"white\">\r\n                <b-card-text>\r\n                每天於疫苗施打完畢後 (17:00)，更新已施打疫苗的員工資料。\r\n                </b-card-text>\r\n\r\n                <b-card-text>請勾選施打狀態。</b-card-text>\r\n\r\n\r\n                <b-table striped hover :items=\"items\" :fields=\"fields\">\r\n                    <template v-slot:cell(status)=\"row\">\r\n                        <base-button size=\"sm\" @click=\"myconfirm(row.item)\" class=\"mr-1\" >\r\n                            已施打\r\n                        </base-button>\r\n                    </template>\r\n                </b-table>\r\n            </b-card>\r\n\r\n            <b-card class=\"mt-3\" header=\"新增疫苗資訊\" header-bg-variant=\"default\" header-text-variant=\"white\">\r\n              <b-form @submit=\"onSubmit\" @reset=\"onReset\" v-if=\"show\">\r\n\r\n                <b-form-group id=\"input-group-1\" label=\"Vaccine Type:\" label-for=\"input-1\">\r\n                  <b-form-select\r\n                    id=\"input-1\"\r\n                    v-model=\"addVaccineForm.vaccine_type\"\r\n                    :options=\"vaccines\"\r\n                    required\r\n                  ></b-form-select>\r\n                </b-form-group>\r\n\r\n                <b-form-group id=\"input-group-2\" label=\"Date:\" label-for=\"input-2\" description=\"YYYY-MM-DD\">\r\n                  <b-form-input\r\n                    id=\"input-2\"\r\n                    v-model=\"addVaccineForm.date\"\r\n                    type=\"date\"\r\n                    placeholder=\"Enter availible vaccination date\"\r\n                    required\r\n                  ></b-form-input>\r\n                </b-form-group>\r\n\r\n                <b-form-group id=\"input-group-3\" label=\"Amount:\" label-for=\"input-3\">\r\n                  <b-form-input\r\n                    id=\"input-3\"\r\n                    v-model=\"addVaccineForm.vaccine_amount\"\r\n                    type=\"number\"\r\n                    placeholder=\"Enter availible doses of vaccine\"\r\n                    min=\"1\" max=\"999\"\r\n                    required\r\n                  ></b-form-input>\r\n                </b-form-group>\r\n\r\n                <b-button type=\"submit\" variant=\"primary\">Submit</b-button>\r\n                <b-button type=\"reset\" variant=\"danger\">Reset</b-button>\r\n\r\n            </b-form>\r\n          </b-card>  \r\n    </div>\r\n</template>\r\n\r\n<script>\r\n  import axios from 'axios'\r\n  import moment from 'moment'\r\n  export default {\r\n    data() {\r\n      return {\r\n        fields: ['employeeID', 'name', 'vaccine', 'status'],\r\n        items:[],\r\n        addVaccineForm: {\r\n          vaccine_type: null,\r\n          date: '',\r\n          vaccine_amount: ''\r\n        },\r\n        vaccines: [{ text: 'Select One', value: null }, 'AstraZeneca', 'Moderna', 'BioNTech'],\r\n        show: true\r\n      }\r\n    },\r\n    created(){\r\n      var __this = this;\r\n      var today = new Date();\r\n      var date = today.getFullYear()+'-'+(today.getMonth()+1)+'-'+today.getDate();\r\n      date = moment(String(date)).format('YYYY-MM-DD')\r\n      console.log(date);\r\n      \r\n      axios\r\n        .get('https://happyclick-healthcenter.herokuapp.com/searchFormdata', {params:{\"date\": date}})\r\n        .then(res => {\r\n          console.log(res.data);\r\n          res.data.forEach(function(item) {\r\n            console.log(item);\r\n            __this.items.push({form_id: item.form_id, employeeID: item.id, name: item.username, vaccine: item.vaccine_type})\r\n          });\r\n        })\r\n          .catch( (error) => console.log(error));\r\n    },\r\n    methods: {\r\n      myconfirm (item, index, target) {\r\n        const vaccinatedData = {\"form_id\": item.form_id, \"id\": item.employeeID, \"Name\": item.name};\r\n        if(confirm('請確認已施打人員之資料，確定修改嗎?')==true){\r\n          this.ckeckVaccinated(vaccinatedData)\r\n        }\r\n      },\r\n      ckeckVaccinated(vaccinatedData){\r\n        console.log(vaccinatedData);\r\n        axios\r\n          .post('https://happyclick-healthcenter.herokuapp.com/updateVaccinated', vaccinatedData)\r\n          .then(res => {\r\n            console.log(res.data);\r\n          })\r\n          .catch( (error) => console.log(error));\r\n      },\r\n      onSubmit(event) {\r\n        event.preventDefault()\r\n        console.log(JSON.stringify(this.addVaccineForm));\r\n        axios\r\n        .post('https://happyclick-healthcenter.herokuapp.com/updateVaccine', JSON.stringify(this.addVaccineForm))\r\n        .then(res => {\r\n          console.log(res.data);\r\n        })\r\n          .catch( (error) => console.log(error));\r\n        \r\n      },\r\n      onReset(event) {\r\n        event.preventDefault()\r\n        // Reset our form values\r\n        this.addVaccineForm.vaccine_type = null,\r\n        this.addVaccineForm.date = '',\r\n        this.addVaccineForm.vaccine_amount = '' \r\n\r\n        // Trick to reset/clear native browser form validation state\r\n        this.show = false\r\n        this.$nextTick(() => {\r\n          this.show = true\r\n        })\r\n      }\r\n    }\r\n  }\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Health.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Health.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Health.vue?vue&type=template&id=2e948edf&\"\nimport script from \"./Health.vue?vue&type=script&lang=js&\"\nexport * from \"./Health.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}