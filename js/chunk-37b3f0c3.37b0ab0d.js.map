{"version":3,"sources":["webpack:///./node_modules/core-js/modules/_strict-method.js","webpack:///./node_modules/core-js/modules/es6.array.sort.js","webpack:///./src/views/Reserve.vue?e875","webpack:///src/views/Reserve.vue","webpack:///./src/views/Reserve.vue?151e","webpack:///./src/views/Reserve.vue"],"names":["fails","module","exports","method","arg","call","$export","aFunction","toObject","$sort","sort","test","P","F","undefined","comparefn","this","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","_v","on","onSubmit","onReset","model","value","form","callback","$$v","$set","expression","vaccine_type","onChange","date","_e","staticRenderFns","component"],"mappings":"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","file":"js/chunk-37b3f0c3.37b0ab0d.js","sourcesContent":["'use strict';\nvar fails = require('./_fails');\n\nmodule.exports = function (method, arg) {\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call\n    arg ? method.call(null, function () { /* empty */ }, 1) : method.call(null);\n  });\n};\n","'use strict';\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar toObject = require('./_to-object');\nvar fails = require('./_fails');\nvar $sort = [].sort;\nvar test = [1, 2, 3];\n\n$export($export.P + $export.F * (fails(function () {\n  // IE8-\n  test.sort(undefined);\n}) || !fails(function () {\n  // V8 bug\n  test.sort(null);\n  // Old WebKit\n}) || !require('./_strict-method')($sort)), 'Array', {\n  // 22.1.3.25 Array.prototype.sort(comparefn)\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? $sort.call(toObject(this))\n      : $sort.call(toObject(this), aFunction(comparefn));\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"header pb-2 pt-5 pt-lg-6 d-flex align-items-center\"},[_c('b-container',{attrs:{\"fluid\":\"\"}},[_c('span',{staticClass:\"mask bg-gradient-success opacity-8\"}),_c('b-container',{staticClass:\"d-flex align-items-center\",attrs:{\"fluid\":\"\"}},[_c('b-row',[_c('b-col',{attrs:{\"lg\":\"15\",\"md\":\"12\"}},[_c('h1',{staticClass:\"display-3 text-white\"},[_vm._v(\"Reservation\")]),_c('p',{staticClass:\"text-white mt-0 mb-5\"},[_vm._v(\"Please reserve the vaccine on this page.\\n          \")])])],1)],1)],1)],1),_c('b-card',{staticClass:\"mt-3\",attrs:{\"header\":\"疫苗預約資訊\",\"header-bg-variant\":\"default\",\"header-text-variant\":\"white\"}},[(_vm.show)?_c('b-form',{on:{\"submit\":_vm.onSubmit,\"reset\":_vm.onReset}},[_c('b-form-group',{attrs:{\"id\":\"input-group-1\",\"label\":\"Employee ID:\",\"label-for\":\"input-1\",\"description\":\"We'll never share your information with anyone else.\"}},[_c('b-form-input',{attrs:{\"id\":\"input-1\",\"placeholder\":\"Enter employee ID\",\"required\":\"\"},model:{value:(_vm.form.employeeID),callback:function ($$v) {_vm.$set(_vm.form, \"employeeID\", $$v)},expression:\"form.employeeID\"}})],1),_c('b-form-group',{attrs:{\"id\":\"input-group-2\",\"label\":\"Your Name:\",\"label-for\":\"input-2\"}},[_c('b-form-input',{attrs:{\"id\":\"input-2\",\"placeholder\":\"Enter name\",\"required\":\"\"},model:{value:(_vm.form.username),callback:function ($$v) {_vm.$set(_vm.form, \"username\", $$v)},expression:\"form.username\"}})],1),_c('b-form-group',{attrs:{\"id\":\"input-group-3\",\"label\":\"Vaccine Type:\",\"label-for\":\"input-3\"}},[_c('b-form-select',{attrs:{\"id\":\"input-3\",\"options\":_vm.vaccine_type,\"required\":\"\"},on:{\"change\":_vm.onChange},model:{value:(_vm.form.vaccine),callback:function ($$v) {_vm.$set(_vm.form, \"vaccine\", $$v)},expression:\"form.vaccine\"}})],1),_c('b-form-group',{attrs:{\"id\":\"input-group-4\",\"label\":\"Date:\",\"label-for\":\"input-4\"}},[_c('b-form-select',{attrs:{\"id\":\"input-4\",\"options\":_vm.date,\"required\":\"\"},model:{value:(_vm.form.date),callback:function ($$v) {_vm.$set(_vm.form, \"date\", $$v)},expression:\"form.date\"}})],1),_c('b-button',{attrs:{\"type\":\"submit\",\"variant\":\"primary\"}},[_vm._v(\"Submit\")]),_c('b-button',{attrs:{\"type\":\"reset\",\"variant\":\"danger\"}},[_vm._v(\"Reset\")])],1):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  \r\n  <div>\r\n    <div class=\"header pb-2 pt-5 pt-lg-6 d-flex align-items-center\">\r\n      <b-container fluid>\r\n        <!-- Mask -->\r\n        <span class=\"mask bg-gradient-success opacity-8\"></span>\r\n        <!-- Header container -->\r\n        <b-container fluid class=\"d-flex align-items-center\">\r\n        <b-row >\r\n            <b-col lg=\"15\" md=\"12\">\r\n            <h1 class=\"display-3 text-white\">Reservation</h1>\r\n            <p class=\"text-white mt-0 mb-5\">Please reserve the vaccine on this page.\r\n            </p>\r\n            </b-col>\r\n        </b-row>\r\n        </b-container>\r\n      </b-container>\r\n    </div>  \r\n    \r\n    <!-- Card stats -->\r\n    <!-- Header -->\r\n    <b-card class=\"mt-3\" header=\"疫苗預約資訊\" header-bg-variant=\"default\" header-text-variant=\"white\">\r\n      <b-form @submit=\"onSubmit\" @reset=\"onReset\" v-if=\"show\">\r\n        <b-form-group\r\n          id=\"input-group-1\"\r\n          label=\"Employee ID:\"\r\n          label-for=\"input-1\"\r\n          description=\"We'll never share your information with anyone else.\"\r\n        >\r\n          <b-form-input\r\n            id=\"input-1\"\r\n            v-model=\"form.employeeID\"\r\n            placeholder=\"Enter employee ID\"\r\n            required\r\n          ></b-form-input>\r\n        </b-form-group>\r\n\r\n        <b-form-group id=\"input-group-2\" label=\"Your Name:\" label-for=\"input-2\">\r\n          <b-form-input\r\n            id=\"input-2\"\r\n            v-model=\"form.username\"\r\n            placeholder=\"Enter name\"\r\n            required\r\n          ></b-form-input>\r\n        </b-form-group>\r\n\r\n        <b-form-group id=\"input-group-3\" label=\"Vaccine Type:\" label-for=\"input-3\" >\r\n          <b-form-select\r\n          @change=\"onChange\"\r\n            id=\"input-3\"\r\n            v-model=\"form.vaccine\"\r\n            :options=\"vaccine_type\"\r\n            required\r\n          ></b-form-select>\r\n        </b-form-group>\r\n\r\n        <b-form-group id=\"input-group-4\" label=\"Date:\" label-for=\"input-4\">\r\n          <b-form-select\r\n            id=\"input-4\"\r\n            v-model=\"form.date\"\r\n            :options=\"date\"\r\n            required\r\n          ></b-form-select>\r\n        </b-form-group>\r\n\r\n\r\n        <b-button type=\"submit\" variant=\"primary\">Submit</b-button>\r\n        <b-button type=\"reset\" variant=\"danger\">Reset</b-button>\r\n      </b-form>\r\n    </b-card>\r\n  \r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import axios from 'axios'\r\n  export default {\r\n    data() {\r\n      return {\r\n        form: {\r\n          employeeID: localStorage.id,\r\n          username: localStorage.username,\r\n          vaccine: null,\r\n          date:null\r\n        },\r\n        vacAndDate: [],\r\n        vaccine_type: [{ text: 'Select one', value: null }],\r\n        date: [{ text: 'Select one', value: null },'GG'],\r\n        show: true\r\n      }\r\n    },\r\n    created() {\r\n        var __this = this;\r\n        axios\r\n          .get('https://happyclick-healthcenter.herokuapp.com/returnAvailable')\r\n          .then(res => {\r\n            console.log(res.data);\r\n            res.data.forEach(function(item, index, array) {\r\n              __this.vacAndDate.push({\r\n                  'key': item.vaccine_type,\r\n                  'value': item.date\r\n              });\r\n              console.log(\"V&D:\",__this.vacAndDate[0].key);\r\n              console.log(item.vaccine_type, item.date);\r\n              console.log(__this.vaccine_type);\r\n              if (!__this.vaccine_type.includes(item.vaccine_type)){\r\n                __this.vaccine_type.push(item.vaccine_type);\r\n              }\r\n            });\r\n          })\r\n          .catch( (error) => console.log(error));\r\n      \r\n    },\r\n    methods: {\r\n      onChange(event){\r\n        var __this = this;\r\n        console.log(\"changed\")\r\n        this.date = [{ text: 'Select one', value: null }];\r\n        if (this.form.vaccine){\r\n          this.vacAndDate.forEach(function(item, index, array) {\r\n            console.log(item.key);\r\n            if (item.key == __this.form.vaccine){\r\n              __this.date.push(item.value)\r\n            }\r\n          })\r\n        }\r\n\r\n        __this.date.sort();\r\n\r\n      },\r\n      onSubmit(event) {\r\n        event.preventDefault()\r\n        console.log(\"test\");\r\n        console.log(this.vaccine_type);\r\n        const reserveData = { id: this.form.employeeID, username: this.form.username, date: this.form.date, vaccine_type: this.form.vaccine };\r\n        console.log(reserveData);\r\n        axios\r\n            .post('https://happyclick-healthcenter.herokuapp.com/saveReserve',reserveData)\r\n            .then(res => {\r\n              console.log(\"res status\", res.status);\r\n              console.log('res data:', res.data);\r\n\r\n              alert(res.data.msg);\r\n              this.$router.push('/check');\r\n\r\n            })\r\n            .catch( (error) => console.log(error));\r\n      },\r\n      onReset(event) {\r\n        event.preventDefault()\r\n        // Reset our form values\r\n        this.form.employeeID = ''\r\n        this.form.username = ''\r\n        this.form.vaccine = null\r\n        this.form.date = null\r\n        // Trick to reset/clear native browser form validation state\r\n        this.show = false\r\n        this.$nextTick(() => {\r\n          this.show = true\r\n        })\r\n      }\r\n    }\r\n  }\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Reserve.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Reserve.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Reserve.vue?vue&type=template&id=a1e341d4&\"\nimport script from \"./Reserve.vue?vue&type=script&lang=js&\"\nexport * from \"./Reserve.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}